"use client";
import styles from './styles.module.scss';
import { cartActions } from '@/redux/features/cart';
import { useDispatch } from 'react-redux';

export default function Popup({ id, onClose }: { id: string, onClose: () => void }) {
  const dispatch = useDispatch();

  return (
    <div className={styles['popup']}>
      <div className={styles['popup__card']}>
        <h2 className={styles['popup__card-head']}>Удаление билета</h2>
        <button className={styles['popup__card-button-close']} type="button" title="Закрыть" onClick={onClose}>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12.8537 12.1463C12.9002 12.1927 12.937 12.2479 12.9622 12.3086C12.9873 12.3693 13.0003 12.4343 13.0003 12.5C13.0003 12.5657 12.9873 12.6308 12.9622 12.6915C12.937 12.7522 12.9002 12.8073 12.8537 12.8538C12.8073 12.9002 12.7521 12.9371 12.6914 12.9622C12.6307 12.9874 12.5657 13.0003 12.5 13.0003C12.4343 13.0003 12.3692 12.9874 12.3085 12.9622C12.2478 12.9371 12.1927 12.9002 12.1462 12.8538L7.99997 8.70691L3.85372 12.8538C3.7599 12.9476 3.63265 13.0003 3.49997 13.0003C3.36729 13.0003 3.24004 12.9476 3.14622 12.8538C3.0524 12.76 2.99969 12.6327 2.99969 12.5C2.99969 12.3674 3.0524 12.2401 3.14622 12.1463L7.2931 8.00003L3.14622 3.85378C3.0524 3.75996 2.99969 3.63272 2.99969 3.50003C2.99969 3.36735 3.0524 3.2401 3.14622 3.14628C3.24004 3.05246 3.36729 2.99976 3.49997 2.99976C3.63265 2.99976 3.7599 3.05246 3.85372 3.14628L7.99997 7.29316L12.1462 3.14628C12.24 3.05246 12.3673 2.99976 12.5 2.99976C12.6327 2.99976 12.7599 3.05246 12.8537 3.14628C12.9475 3.2401 13.0003 3.36735 13.0003 3.50003C13.0003 3.63272 12.9475 3.75996 12.8537 3.85378L8.70685 8.00003L12.8537 12.1463Z"
              fill="#333333"
            />
          </svg>
        </button>
        <span className={styles['popup__card-text']}>
          Вы уверены, что хотите удалить билет?
        </span>
        <button className={styles['popup__card-button-yes']} type="button" title="Да" onClick={() => {dispatch(cartActions.reset(id)); onClose()}}>
          <svg
            width="51"
            height="40"
            viewBox="0 0 51 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="51" height="40" rx="8" fill="#FF5500" />
            <path
              d="M25.3564 23.6396V25H18.0215V23.6396H25.3564ZM18.4453 23.6396V27.4473H16.8047L16.7432 23.6396H18.4453ZM26.6826 23.6396L26.5801 27.4404H24.9668V23.6396H26.6826ZM24.1533 15.0469V16.4141H19.5596V15.0469H24.1533ZM25.4658 15.0469V25H23.7568V15.0469H25.4658ZM19.2178 15.0469H20.9336L20.6943 19.0801C20.6579 19.7181 20.5918 20.2923 20.4961 20.8027C20.4004 21.3132 20.2842 21.7712 20.1475 22.1768C20.0153 22.5778 19.8649 22.9333 19.6963 23.2432C19.5277 23.5485 19.3477 23.8128 19.1562 24.0361C18.9648 24.2594 18.7689 24.4508 18.5684 24.6104C18.3724 24.7653 18.1787 24.8952 17.9873 25H17.0713V23.6396H17.5156C17.6387 23.5257 17.7754 23.3617 17.9258 23.1475C18.0762 22.9287 18.222 22.6439 18.3633 22.293C18.5091 21.9375 18.6367 21.4977 18.7461 20.9736C18.8555 20.4495 18.9307 19.8184 18.9717 19.0801L19.2178 15.0469ZM31.9873 23.5166V19.9893C31.9873 19.7249 31.9395 19.4971 31.8438 19.3057C31.748 19.1143 31.6022 18.9661 31.4062 18.8613C31.2148 18.7565 30.9733 18.7041 30.6816 18.7041C30.4128 18.7041 30.1803 18.7497 29.9844 18.8408C29.7884 18.932 29.6357 19.055 29.5264 19.21C29.417 19.3649 29.3623 19.5404 29.3623 19.7363H27.7217C27.7217 19.4447 27.7923 19.1621 27.9336 18.8887C28.0749 18.6152 28.2799 18.3714 28.5488 18.1572C28.8177 17.943 29.139 17.7744 29.5127 17.6514C29.8864 17.5283 30.3057 17.4668 30.7705 17.4668C31.3265 17.4668 31.8187 17.5602 32.2471 17.7471C32.68 17.9339 33.0195 18.2165 33.2656 18.5947C33.5163 18.9684 33.6416 19.4378 33.6416 20.0029V23.291C33.6416 23.6283 33.6644 23.9313 33.71 24.2002C33.7601 24.4645 33.8307 24.6947 33.9219 24.8906V25H32.2334C32.1559 24.8223 32.0944 24.5967 32.0488 24.3232C32.0078 24.0452 31.9873 23.7764 31.9873 23.5166ZM32.2266 20.502L32.2402 21.5205H31.0576C30.7523 21.5205 30.4834 21.5501 30.251 21.6094C30.0186 21.6641 29.8249 21.7461 29.6699 21.8555C29.515 21.9648 29.3988 22.097 29.3213 22.252C29.2438 22.4069 29.2051 22.5824 29.2051 22.7783C29.2051 22.9743 29.2507 23.1543 29.3418 23.3184C29.4329 23.4779 29.5651 23.6032 29.7383 23.6943C29.916 23.7855 30.1302 23.8311 30.3809 23.8311C30.7181 23.8311 31.012 23.7627 31.2627 23.626C31.5179 23.4847 31.7184 23.3138 31.8643 23.1133C32.0101 22.9082 32.0876 22.7145 32.0967 22.5322L32.6299 23.2637C32.5752 23.4505 32.4818 23.651 32.3496 23.8652C32.2174 24.0794 32.0443 24.2845 31.8301 24.4805C31.6204 24.6719 31.3675 24.8291 31.0713 24.9521C30.7796 25.0752 30.4424 25.1367 30.0596 25.1367C29.5765 25.1367 29.1458 25.041 28.7676 24.8496C28.3893 24.6536 28.0931 24.3916 27.8789 24.0635C27.6647 23.7308 27.5576 23.3548 27.5576 22.9355C27.5576 22.5436 27.6305 22.1973 27.7764 21.8965C27.9268 21.5911 28.1455 21.3359 28.4326 21.1309C28.7243 20.9258 29.0798 20.7708 29.499 20.666C29.9183 20.5566 30.3968 20.502 30.9346 20.502H32.2266Z"
              fill="white"
            />
          </svg>
        </button>
        <button className={styles['popup__card-button-no']} type="button" title="Нет" onClick={onClose}>
          <svg
            width="57"
            height="40"
            viewBox="0 0 57 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M23.9268 19.2031V20.5635H18.6426V19.2031H23.9268ZM19.0664 15.0469V25H17.3506V15.0469H19.0664ZM25.2461 15.0469V25H23.5371V15.0469H25.2461ZM30.3867 25.1367C29.8398 25.1367 29.3454 25.0479 28.9033 24.8701C28.4658 24.6878 28.0921 24.4349 27.7822 24.1113C27.4769 23.7878 27.2422 23.4072 27.0781 22.9697C26.9141 22.5322 26.832 22.0605 26.832 21.5547V21.2812C26.832 20.7025 26.9163 20.1784 27.085 19.709C27.2536 19.2396 27.4883 18.8385 27.7891 18.5059C28.0898 18.1686 28.4453 17.9111 28.8555 17.7334C29.2656 17.5557 29.71 17.4668 30.1885 17.4668C30.7171 17.4668 31.1797 17.5557 31.5762 17.7334C31.9727 17.9111 32.3008 18.1618 32.5605 18.4854C32.8249 18.8044 33.0208 19.1849 33.1484 19.627C33.2806 20.069 33.3467 20.5566 33.3467 21.0898V21.7939H27.6318V20.6113H31.7197V20.4814C31.7106 20.1852 31.6514 19.9072 31.542 19.6475C31.4372 19.3877 31.2754 19.1781 31.0566 19.0186C30.8379 18.859 30.5462 18.7793 30.1816 18.7793C29.9082 18.7793 29.6644 18.8385 29.4502 18.957C29.2406 19.071 29.0651 19.2373 28.9238 19.4561C28.7826 19.6748 28.6732 19.9391 28.5957 20.249C28.5228 20.5544 28.4863 20.8984 28.4863 21.2812V21.5547C28.4863 21.8783 28.5296 22.179 28.6162 22.457C28.7074 22.7305 28.8395 22.9697 29.0127 23.1748C29.1859 23.3799 29.3955 23.5417 29.6416 23.6602C29.8877 23.7741 30.168 23.8311 30.4824 23.8311C30.8789 23.8311 31.2321 23.7513 31.542 23.5918C31.8519 23.4323 32.1208 23.2067 32.3486 22.915L33.2168 23.7559C33.0573 23.9883 32.8499 24.2116 32.5947 24.4258C32.3395 24.6354 32.0273 24.8063 31.6582 24.9385C31.2936 25.0706 30.8698 25.1367 30.3867 25.1367ZM37.9814 17.6035V25H36.3271V17.6035H37.9814ZM40.4082 17.6035V18.9023H33.9414V17.6035H40.4082Z"
              fill="#FF5500"
            />
            <rect
              x="0.5"
              y="0.5"
              width="56"
              height="39"
              rx="7.5"
              stroke="#FF5500"
            />
          </svg>
        </button>
      </div>
    </div>
  );
}
